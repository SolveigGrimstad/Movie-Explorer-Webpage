{"ast":null,"code":"var _jsxFileName = \"/Users/maudjohansson/Documents/Webutvikling/prosjekt3/project-3/Frontend/src/components/content.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport Moviebox from \"./moviebox\";\nimport Filternav from \"./filternav\";\nimport Movieinfo from \"./movieinfo\";\nimport axios from \"axios\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport \"../updateGenreFilter\";\n\nfunction Content() {\n  const [movies, setMovies] = useState([]);\n  const [open, setOpen] = useState(false); //opens the filter bar\n\n  const [title, setTitle] = useState(\"\"); //searching\n\n  const [page, setPage] = useState(1);\n  const [sort, setSort] = useState(\"Ratings\");\n  const filters = useSelector(state => state.filter);\n\n  const initiateSearch = e => {\n    setTitle(e.target.value);\n    setPage(1); //sets the page to be page nr 1, when user search\n  };\n\n  const initiateSort = e => {\n    setSort(e);\n    setPage(1); //sets the page to be page nr 1, when user sort\n  }; //console.log(filters);\n\n\n  const params = new URLSearchParams([[\"filter\", filters.join()], [\"sort\", sort]]); //list of comma in filters\n\n  useEffect(() => {\n    // gets all the movies. Title is if the user search for something. If now, shows all the movies\n    const getMovies = async () => {\n      const api_url = \"http://localhost:8000/api/movies/\" + sort + \"/\" + page + \"/?title=\" + title;\n      await axios.get(api_url, {\n        params\n      }).then(response => {\n        setMovies(response.data.DATA);\n      });\n    };\n\n    getMovies();\n  }, [sort, filters, page, title]); // the variables thats going to change when the useEffect is called\n\n  useEffect(() => {\n    //triggers the drowdownbutton\n    const dropdown = () => {\n      var elems = document.querySelectorAll(\".dropdown-trigger\");\n      var instances = M.Dropdown.init(elems, {});\n    };\n\n    dropdown();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"searchbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchbar_buttons \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"input\", {\n    className: \"searchbarInput\",\n    name: \"search\",\n    placeholder: \"Search for movie...\",\n    value: title,\n    onChange: e => initiateSearch(e) //changes to page 1 when searching\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    //opens the filternav component\n    onClick: () => setOpen(!open),\n    className: \"waves-effect deep-purple lighten-1 btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, \"Filter\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"dropdown-trigger waves-effect deep-purple lighten-1 btn\",\n    \"data-target\": \"dropdown1\" //changing the \"sort by\" button, depending on what the user wants to sort on\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, \"Sort by\", \" \", sort === \"Ratings\" ? \"Rating\" : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 23\n    }\n  }) || sort === \"Year\" ? \"Year\" : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 23\n    }\n  }) || sort === \"starRating\" ? \"Likes\" : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"material-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }, \"arrow_drop_down\")), /*#__PURE__*/React.createElement(\"ul\", {\n    id: \"dropdown1\",\n    className: \"dropdown-content \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#!\",\n    onClick: () => initiateSort(\"Ratings\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, \"Rating\"), \" \"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#!\",\n    onClick: () => initiateSort(\"Year\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, \"Year\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#!\",\n    onClick: () => initiateSort(\"starRating\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, \"Likes\")))))))), open && /*#__PURE__*/React.createElement(Filternav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 16\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"pagination\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }, page > 1 &&\n  /*#__PURE__*/\n  //pagination, arrows for when page 1 and when less than 24 movies per page\n  React.createElement(\"li\", {\n    className: \"hei\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: page == 1 ? \"disabled material-icons\" : \"waves-effect material-icons\",\n    onClick: () => setPage(page - 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }, \"chevron_left\"))), movies.length >= 24 && /*#__PURE__*/React.createElement(\"li\", {\n    className: \"heo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: movies.length < 24 ? \"disabled material-icons\" : \"waves-effect material-icons\",\n    onClick: () => setPage(page + 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }, \" \", \"chevron_right\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }\n  }, movies.map(movie => {\n    if (movie.Title == \"The Revenant\") {\n      console.log(movie);\n    }\n\n    return /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/allmovies\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Moviebox //sending parameters\n    , {\n      title: movie.Title,\n      imageUrl: movie.Poster,\n      actors: movie.Actors,\n      rating: movie.Ratings,\n      summary: movie.Plot,\n      runtime: movie.Runtime,\n      year: movie.Year,\n      starRating: movie.starRating,\n      id: movie._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/movieinfo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Movieinfo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    })));\n  })), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"pagination\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }\n  }, page > 1 &&\n  /*#__PURE__*/\n  //same pagination in the buttom of the page\n  React.createElement(\"li\", {\n    className: \"hei\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: page == 1 ? \"disabled material-icons\" : \"waves-effect material-icons\",\n    onClick: () => setPage(page - 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 15\n    }\n  }, \"chevron_left\"))), movies.length >= 24 && /*#__PURE__*/React.createElement(\"li\", {\n    className: \"heo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: movies.length < 24 ? \"disabled material-icons\" : \"waves-effect material-icons\",\n    onClick: () => setPage(page + 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 15\n    }\n  }, \" \", \"chevron_right\")))));\n}\n\nexport default Content;","map":{"version":3,"sources":["/Users/maudjohansson/Documents/Webutvikling/prosjekt3/project-3/Frontend/src/components/content.tsx"],"names":["React","useEffect","useState","Moviebox","Filternav","Movieinfo","axios","Switch","Route","useSelector","Content","movies","setMovies","open","setOpen","title","setTitle","page","setPage","sort","setSort","filters","state","filter","initiateSearch","e","target","value","initiateSort","params","URLSearchParams","join","getMovies","api_url","get","then","response","data","DATA","dropdown","elems","document","querySelectorAll","instances","M","Dropdown","init","length","map","movie","Title","console","log","Poster","Actors","Ratings","Plot","Runtime","Year","starRating","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,kBAA9B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAO,sBAAP;;AAoBA,SAASC,OAAT,GAAmB;AACjB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAW,EAAX,CAApC;AACA,QAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,KAAD,CAAhC,CAFiB,CAEwB;;AACzC,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAS,EAAT,CAAlC,CAHiB,CAG+B;;AAChD,QAAM,CAACe,IAAD,EAAOC,OAAP,IAAkBhB,QAAQ,CAAC,CAAD,CAAhC;AACA,QAAM,CAACiB,IAAD,EAAOC,OAAP,IAAkBlB,QAAQ,CAAC,SAAD,CAAhC;AACA,QAAMmB,OAAiB,GAAGZ,WAAW,CAAEa,KAAD,IAAqBA,KAAK,CAACC,MAA5B,CAArC;;AACA,QAAMC,cAAc,GAAIC,CAAD,IAAY;AACjCT,IAAAA,QAAQ,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AACAT,IAAAA,OAAO,CAAC,CAAD,CAAP,CAFiC,CAGjC;AACD,GAJD;;AAKA,QAAMU,YAAY,GAAIH,CAAD,IAAY;AAC/BL,IAAAA,OAAO,CAACK,CAAD,CAAP;AACAP,IAAAA,OAAO,CAAC,CAAD,CAAP,CAF+B,CAG/B;AACD,GAJD,CAZiB,CAiBjB;;;AACA,QAAMW,MAAM,GAAG,IAAIC,eAAJ,CAAoB,CACjC,CAAC,QAAD,EAAWT,OAAO,CAACU,IAAR,EAAX,CADiC,EAEjC,CAAC,MAAD,EAASZ,IAAT,CAFiC,CAApB,CAAf,CAlBiB,CAsBjB;;AAEAlB,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,UAAM+B,SAAS,GAAG,YAAY;AAC5B,YAAMC,OAAO,GACX,sCACAd,IADA,GAEA,GAFA,GAGAF,IAHA,GAIA,UAJA,GAKAF,KANF;AAQA,YAAMT,KAAK,CAAC4B,GAAN,CAAUD,OAAV,EAAmB;AAAEJ,QAAAA;AAAF,OAAnB,EAA+BM,IAA/B,CAAqCC,QAAD,IAAc;AACtDxB,QAAAA,SAAS,CAACwB,QAAQ,CAACC,IAAT,CAAcC,IAAf,CAAT;AACD,OAFK,CAAN;AAGD,KAZD;;AAaAN,IAAAA,SAAS;AACV,GAhBQ,EAgBN,CAACb,IAAD,EAAOE,OAAP,EAAgBJ,IAAhB,EAAsBF,KAAtB,CAhBM,CAAT,CAxBiB,CAyCjB;;AAEAd,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,UAAMsC,QAAQ,GAAG,MAAM;AACrB,UAAIC,KAAK,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,mBAA1B,CAAZ;AACA,UAAIC,SAAS,GAAGC,CAAC,CAACC,QAAF,CAAWC,IAAX,CAAgBN,KAAhB,EAAuB,EAAvB,CAAhB;AACD,KAHD;;AAIAD,IAAAA,QAAQ;AACT,GAPQ,EAON,EAPM,CAAT;AASA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,GADH,eAEE;AACE,IAAA,SAAS,EAAC,gBADZ;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,WAAW,EAAC,qBAHd;AAIE,IAAA,KAAK,EAAExB,KAJT;AAKE,IAAA,QAAQ,EAAGU,CAAD,IAAOD,cAAc,CAACC,CAAD,CALjC,CAME;AANF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE;AACA,IAAA,OAAO,EAAE,MAAMX,OAAO,CAAC,CAACD,IAAF,CAFxB;AAGE,IAAA,SAAS,EAAC,wCAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAbF,eAuBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,yDADZ;AAEE,mBAAY,WAFd,CAGE;AAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAKU,GALV,EAMGM,IAAI,KAAK,SAAT,GACC,QADD,GAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAWA,IAAI,KAAK,MAApB,GACF,MADE,GAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAWA,IAAI,KAAK,YAApB,GACF,OADE,gBAGF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbJ,eAeE;AAAG,IAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAfF,CADF,eAkBE;AAAI,IAAA,EAAE,EAAC,WAAP;AAAmB,IAAA,SAAS,EAAC,mBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAC,IAAR;AAAa,IAAA,OAAO,EAAE,MAAMS,YAAY,CAAC,SAAD,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAGO,GAHP,CADF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAC,IAAR;AAAa,IAAA,OAAO,EAAE,MAAMA,YAAY,CAAC,MAAD,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CANF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAC,IAAR;AAAa,IAAA,OAAO,EAAE,MAAMA,YAAY,CAAC,YAAD,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CAXF,CAlBF,CADF,CAvBF,CADF,CADF,CADF,EAoEGf,IAAI,iBAAI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApEX,eAsEE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGI,IAAI,GAAG,CAAP;AAAA;AACC;AACA;AAAI,IAAA,SAAS,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EACPA,IAAI,IAAI,CAAR,GACI,yBADJ,GAEI,6BAJR;AAME,IAAA,OAAO,EAAE,MAAMC,OAAO,CAACD,IAAI,GAAG,CAAR,CANxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CADF,CAHJ,EAkBGN,MAAM,CAACoC,MAAP,IAAiB,EAAjB,iBACC;AAAI,IAAA,SAAS,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EACPpC,MAAM,CAACoC,MAAP,GAAgB,EAAhB,GACI,yBADJ,GAEI,6BAJR;AAME,IAAA,OAAO,EAAE,MAAM7B,OAAO,CAACD,IAAI,GAAG,CAAR,CANxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQG,GARH,kBADF,CADF,CAnBJ,CAtEF,eA2GE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGN,MAAM,CAACqC,GAAP,CAAYC,KAAD,IAAW;AACrB,QAAIA,KAAK,CAACC,KAAN,IAAe,cAAnB,EAAmC;AACjCC,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACD;;AACD,wBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,YAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD,CACE;AADF;AAEE,MAAA,KAAK,EAAEA,KAAK,CAACC,KAFf;AAGE,MAAA,QAAQ,EAAED,KAAK,CAACI,MAHlB;AAIE,MAAA,MAAM,EAAEJ,KAAK,CAACK,MAJhB;AAKE,MAAA,MAAM,EAAEL,KAAK,CAACM,OALhB;AAME,MAAA,OAAO,EAAEN,KAAK,CAACO,IANjB;AAOE,MAAA,OAAO,EAAEP,KAAK,CAACQ,OAPjB;AAQE,MAAA,IAAI,EAAER,KAAK,CAACS,IARd;AASE,MAAA,UAAU,EAAET,KAAK,CAACU,UATpB;AAUE,MAAA,EAAE,EAAEV,KAAK,CAACW,GAVZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAgBE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,YAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAhBF,CADF;AAsBD,GA1BA,CADH,CA3GF,eAwIE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG3C,IAAI,GAAG,CAAP;AAAA;AACC;AACA;AAAI,IAAA,SAAS,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EACPA,IAAI,IAAI,CAAR,GACI,yBADJ,GAEI,6BAJR;AAME,IAAA,OAAO,EAAE,MAAMC,OAAO,CAACD,IAAI,GAAG,CAAR,CANxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CADF,CAHJ,EAkBGN,MAAM,CAACoC,MAAP,IAAiB,EAAjB,iBACC;AAAI,IAAA,SAAS,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EACPpC,MAAM,CAACoC,MAAP,GAAgB,EAAhB,GACI,yBADJ,GAEI,6BAJR;AAME,IAAA,OAAO,EAAE,MAAM7B,OAAO,CAACD,IAAI,GAAG,CAAR,CANxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQG,GARH,kBADF,CADF,CAnBJ,CAxIF,CADF;AA+KD;;AAED,eAAeP,OAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Moviebox from \"./moviebox\";\nimport Filternav from \"./filternav\";\nimport Movieinfo from \"./movieinfo\";\nimport axios from \"axios\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport \"../updateGenreFilter\";\nimport { AppState } from \"../store/store\";\n\ninterface IMovie {\n  Title: String;\n  Year: String;\n  Released: String;\n  Runtime: String;\n  Genre: String;\n  Director: String;\n  Actors: String;\n  Plot: String;\n  Language: String;\n  Country: String;\n  Poster: String;\n  Ratings: String;\n  starRating: Number;\n  _id: String;\n}\n\nfunction Content() {\n  const [movies, setMovies] = useState<IMovie[]>([]);\n  const [open, setOpen] = useState(false); //opens the filter bar\n  const [title, setTitle] = useState<string>(\"\"); //searching\n  const [page, setPage] = useState(1);\n  const [sort, setSort] = useState(\"Ratings\");\n  const filters: string[] = useSelector((state: AppState) => state.filter);\n  const initiateSearch = (e: any) => {\n    setTitle(e.target.value);\n    setPage(1);\n    //sets the page to be page nr 1, when user search\n  };\n  const initiateSort = (e: any) => {\n    setSort(e);\n    setPage(1);\n    //sets the page to be page nr 1, when user sort\n  };\n  //console.log(filters);\n  const params = new URLSearchParams([\n    [\"filter\", filters.join()],\n    [\"sort\", sort],\n  ]);\n  //list of comma in filters\n\n  useEffect(() => {\n    // gets all the movies. Title is if the user search for something. If now, shows all the movies\n    const getMovies = async () => {\n      const api_url =\n        \"http://localhost:8000/api/movies/\" +\n        sort +\n        \"/\" +\n        page +\n        \"/?title=\" +\n        title;\n\n      await axios.get(api_url, { params }).then((response) => {\n        setMovies(response.data.DATA);\n      });\n    };\n    getMovies();\n  }, [sort, filters, page, title]);\n  // the variables thats going to change when the useEffect is called\n\n  useEffect(() => {\n    //triggers the drowdownbutton\n    const dropdown = () => {\n      var elems = document.querySelectorAll(\".dropdown-trigger\");\n      var instances = M.Dropdown.init(elems, {});\n    };\n    dropdown();\n  }, []);\n\n  return (\n    <div>\n      <table className=\"searchbar\">\n        <tr>\n          <div className=\"searchbar_buttons \">\n            <td>\n              {\" \"}\n              <input\n                className=\"searchbarInput\"\n                name=\"search\"\n                placeholder=\"Search for movie...\"\n                value={title}\n                onChange={(e) => initiateSearch(e)}\n                //changes to page 1 when searching\n              />\n            </td>\n\n            <td>\n              <button\n                //opens the filternav component\n                onClick={() => setOpen(!open)}\n                className=\"waves-effect deep-purple lighten-1 btn\"\n              >\n                Filter\n              </button>\n            </td>\n\n            <td>\n              <div>\n                <button\n                  className=\"dropdown-trigger waves-effect deep-purple lighten-1 btn\"\n                  data-target=\"dropdown1\"\n                  //changing the \"sort by\" button, depending on what the user wants to sort on\n                >\n                  Sort by{\" \"}\n                  {sort === \"Ratings\" ? (\n                    \"Rating\"\n                  ) : <p></p> || sort === \"Year\" ? (\n                    \"Year\"\n                  ) : <p></p> || sort === \"starRating\" ? (\n                    \"Likes\"\n                  ) : (\n                    <p></p>\n                  )}\n                  <i className=\"material-icons\">arrow_drop_down</i>\n                </button>\n                <ul id=\"dropdown1\" className=\"dropdown-content \">\n                  <li>\n                    <a href=\"#!\" onClick={() => initiateSort(\"Ratings\")}>\n                      Rating\n                    </a>{\" \"}\n                  </li>\n                  <li>\n                    <a href=\"#!\" onClick={() => initiateSort(\"Year\")}>\n                      Year\n                    </a>\n                  </li>\n                  <li>\n                    <a href=\"#!\" onClick={() => initiateSort(\"starRating\")}>\n                      Likes\n                    </a>\n                  </li>\n                </ul>\n              </div>\n            </td>\n          </div>\n        </tr>\n      </table>\n\n      {open && <Filternav />}\n\n      <ul className=\"pagination\">\n        {page > 1 && (\n          //pagination, arrows for when page 1 and when less than 24 movies per page\n          <li className=\"hei\">\n            <a href=\"#!\">\n              <i\n                className={\n                  page == 1\n                    ? \"disabled material-icons\"\n                    : \"waves-effect material-icons\"\n                }\n                onClick={() => setPage(page - 1)}\n              >\n                chevron_left\n              </i>\n            </a>\n          </li>\n        )}\n        {movies.length >= 24 && (\n          <li className=\"heo\">\n            <a href=\"#!\">\n              <i\n                className={\n                  movies.length < 24\n                    ? \"disabled material-icons\"\n                    : \"waves-effect material-icons\"\n                }\n                onClick={() => setPage(page + 1)}\n              >\n                {\" \"}\n                chevron_right\n              </i>\n            </a>\n          </li>\n        )}\n      </ul>\n\n      <div className=\"movie_container\">\n        {movies.map((movie) => {\n          if (movie.Title == \"The Revenant\") {\n            console.log(movie);\n          }\n          return (\n            <Switch>\n              <Route path=\"/allmovies\">\n                <Moviebox\n                  //sending parameters\n                  title={movie.Title}\n                  imageUrl={movie.Poster}\n                  actors={movie.Actors}\n                  rating={movie.Ratings}\n                  summary={movie.Plot}\n                  runtime={movie.Runtime}\n                  year={movie.Year}\n                  starRating={movie.starRating}\n                  id={movie._id}\n                />\n              </Route>\n\n              <Route path=\"/movieinfo\">\n                <Movieinfo />\n              </Route>\n            </Switch>\n          );\n        })}\n      </div>\n      <ul className=\"pagination\">\n        {page > 1 && (\n          //same pagination in the buttom of the page\n          <li className=\"hei\">\n            <a href=\"#!\">\n              <i\n                className={\n                  page == 1\n                    ? \"disabled material-icons\"\n                    : \"waves-effect material-icons\"\n                }\n                onClick={() => setPage(page - 1)}\n              >\n                chevron_left\n              </i>\n            </a>\n          </li>\n        )}\n        {movies.length >= 24 && (\n          <li className=\"heo\">\n            <a href=\"#!\">\n              <i\n                className={\n                  movies.length < 24\n                    ? \"disabled material-icons\"\n                    : \"waves-effect material-icons\"\n                }\n                onClick={() => setPage(page + 1)}\n              >\n                {\" \"}\n                chevron_right\n              </i>\n            </a>\n          </li>\n        )}\n      </ul>\n    </div>\n  );\n}\n\nexport default Content;\n"]},"metadata":{},"sourceType":"module"}